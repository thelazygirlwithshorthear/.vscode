# node-sds
Implementierung des SDS-Protokolls in Node.js. Dieses Modul bietet diverse SDS-Operationen zur Kommunikation mit JANUS-Servern.

## Installation

```bash
$ yarn add @otris/node-sds
```

oder bei Verwendung von npm
```bash
$ npm install --save @otris/node-sds
```

Um die develop-Version zu installieren, also den noch nicht freigegebenen Nightly-Stand, bei der Installation das Dist-Tag `develop` angeben:
```bash
$ yarn add @otris/node-sds@develop
```

## Enticklungszweige
* develop: Entwicklungszweig (wird automatisch gepublished)
* master (obsolet): Zweig f√ºr die letzte freigegebene Version

## Gitlab-CI
Das Projekt wird per Gitlab-Pipeline getestet und gepublished. 

### Tests
Die Tests erfolgen gegen einen DOCUMENTS-Server (letzte freigegebene Version). Getestet wird jeweils die minifizierte und nicht-minifizierte Version.

### Publish
Gepublished wird automatisch, wenn
* auf dem develop-Zweig gepushed wird (z. B. Annahme eines MRs). In dem Fall wird eine -develop-Version in der [internen otris-Registry](https://registry2.otris.de/-/web/detail/@otris/node-sds) gepublished.
* ein neues Tag in Gitlab erstellt wird. In dem Fall wird die Version in der [internen otris-Registry](https://registry2.otris.de/-/web/detail/@otris/node-sds) ohne `develop`-Tag gepublished, sofern in der package.json ebenfalls das `-develop` aus der Versionsnummer entfernt wurde

#### Vorgehen
1. `git checkout develop`
2. `git pull <remote> develop`
3. `npm version <patch|minor|major>`

Der 3. Befehl aktualisiert die Versionsnummer in der package.json, erstellt einen Commit und ein Tag, und pushed das Tag auf dem Remote origin. Durch den Push des Tags wird die Publish-Pipeline angestossen.
